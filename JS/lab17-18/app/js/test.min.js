/*! test 26-04-2016 */
$(function(){"use strict";var a=[{title:"What is JavaScript?",points:10,answers:[{answer:"Hypertext Markup Language",right:!1},{answer:"Objective Programming Language",right:!1},{answer:"Programming language of HTML and the Web",right:!0}]},{title:"What is Jquery?",points:10,answers:[{answer:"JavaScript library",right:!0},{answer:"JavaScript FrameWork",right:!1},{answer:"One of JavaScript functions",right:!1}]},{title:"What is JSON?",points:10,answers:[{answer:"Analog of Java with more functions",right:!1},{answer:"High-level interpreted programming language",right:!1},{answer:"Lightweight data-interchange format",right:!0}]}],b=JSON.stringify(a),c=(localStorage.setItem("test",b),localStorage.getItem("test")),d=JSON.parse(c),e=$("#template").html(),f=_.template(e),g=f({data:d}),h=$("#test");h.prepend(g);var i=$("input:checkbox");i.on("click",function(){$(this).parent().siblings().children().each(function(){$(this).attr("disabled")?$(this).attr("disabled",!1):$(this).attr("disabled",!0)})});var j=function(a){a.preventDefault();var b,c=[],e=function(){for(var a=0;a<d.length;a++)for(var b=d[a].answers,e=0;e<b.length;e++){var f=d[a].answers[e].right;c.push(f)}},f=[],g=function(){i.each(function(){$(this).prop("checked")?f.push(!0):f.push(!1)})},h=0,j=function(){for(var a=0;a<c.length;a++)c[a]===!0&&c[a]===f[a]&&h++},k=0,l=function(){for(var a=0;a<d.length;a++)k++},m=0,n=!1,o=$("body"),p=function(){m=h/k,m>.5&&(n=!0)};e(),g(),j(),l(),p(),b=n?'<div class="mymodal"><div class="mymodal-inner"><h1 class="text-center rezultSuccess">Вы прошли тест!</h1><h1 class="text-center">Правильных ответов '+h+" из "+k+'</h1><button class="center-block btn btn-success buttonExit" id="exit">Выход</button></div></div>':'<div class="mymodal"><div class="mymodal-inner"><h1 class="text-center rezultWrong">Вы не прошли тест</h1><h1 class="text-center">Правильных ответов '+h+" из "+k+'</h1><button class="center-block btn btn-success buttonExit" id="exit">Выход</button></div></div>',o.append(b);var q=$("#exit"),r=function(){$("input:checkbox").prop("checked",!1).prop("disabled",!1);var a=$(".mymodal");return a.remove(),!1};q.on("click",r)},k=$("#check-results");k.on("click",j)});